In article <4rfkm4$22u@celebrian.otago.ac.nz>, saga@piglet.otago.ac.nz(Dave Robertson) wrote:>: In fact, why allow the bad data to be typed into the field in the first>: place?  PowerPlant's UKeyFilters exist for this reason.>>Is it possible for a keyFilter to find the pointer to the EditField>that its filtering? If so it could check the validity after each >keystroke.>>Actually I'd really like to know how to do this. Its been bugging me for>the last two hours. :)When I needed to do this (validation that needed the entire field), I usedUserChangedText.  There is some flicker, but I may be able to avoid that.Pseudocoded example - this special LEditField subclass has a containedenum telling it which type of input to expectvoid  FilterEditField::UserChangedText()   {   Str255 theText;         GetDescriptor(theText);   if (theText[0] > 0)        // theText[0] (first char in Str255) is thelength byte      if (filterInteger)         {         for (int count = 1; count <= theText[0]; count++)            if (!UKeyFilters::IsNumberChar(theText[count]))            {            theText[0] = count-1;            break;               }         SetDescriptor(theText);         }      else         {         if (!PStringIsValidNumber()) theText[0]-=1;         }}-- fuz@deltanet.com"You die, she dies, EVERYbody dies" - Heavy Metal"When a great many people are unable to find work, unemployment results" - Calvin Coolidge, attrib. by Stanley Walker, City Editor, p. 131 (1934)   